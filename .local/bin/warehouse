#!/bin/sh
WAREHOUSE="$XDG_CONFIG_HOME"/warehouse

paru -Qqe >"$WAREHOUSE"/arch
cargo install --list | rg -o '^(\w.+)\sv' -r '$1' >"$WAREHOUSE"/cargo
cat "$XDG_CONFIG_HOME"/fish/fish_plugins >"$WAREHOUSE"/fish
rg -o '^cork.*(https.*?)("|\s|$)' -r '$1' < "$XDG_CONFIG_HOME"/kak/kakrc >"$WAREHOUSE"/kakoune
volta list --format plain | rg -o 'package\s(\S+)@' -r '$1' > "$WAREHOUSE"/volta
ls -1 "$XDG_DATA_HOME"/go/bin > "$WAREHOUSE"/go

config diff "$WAREHOUSE"/*
