#!/bin/sh
rm -f /tmp/ocr-grab.png
flameshot gui -p /tmp/ocr-grab.png

tesseract \
	-c page_separator="" \
	-l "eng" \
	--dpi 145 \
	/tmp/ocr-grab.png /tmp/ocr-grab

if [ "$(wc -l </tmp/ocr-grab.txt)" -eq 0 ]; then
	notify-send "grab-text" "No text was detected!"
	exit 1
fi

xclip -selection clipboard /tmp/ocr-grab.txt
notify-send "grab-text" "$(cat /tmp/ocr-grab.txt)"
