#!/bin/sh
# Script for generating fish completions

COMP_DIR="$HOME/.config/fish/completions"

# no stdout commands
pueue completions fish "$COMP_DIR" &

# stdout commands
cat <<EOF |
atuin gen-completions --shell=fish
clipcatctl completions fish
clipcatd completions fish
clipcat-menu completions fish
dprint completions fish
erd --completions=fish
fd --gen-completions=fish
glow completion fish
just --completions=fish
kondo --completions=fish
onefetch --generate=fish
procs --gen-completion-out=fish
rg --generate=complete-fish
trip --generate=fish
watchexec --completions=fish
EOF
	while read -r script; do
		cmd=$(echo "$script" | cut -d ' ' -f 1)
		$script >"$COMP_DIR/$cmd.fish" &
	done
wait && echo "completions completely completed"
